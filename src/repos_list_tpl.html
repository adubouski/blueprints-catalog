<div class="repos-list">
    <div class="search-repos">
        <h4>{{type}}:</h4>
        <input type="text" ng-model="search.name" placeholder="search {{type}} by name"/>
    </div>
    <table>
        <colgroup>
            <col class="col-name"/>
            <col class="col-descr"/>
            <col class="col-source"/>
            <col ng-if="canUpload" class="col-action"/>
        </colgroup>
        <thead>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Source</th>
            <th ng-if="canUpload">Action</th>
        </tr>
        </thead>
        <tr ng-repeat="repo in filtered = (repos | filter:search)">
            <td>
                <a href ng-click="showDetails({repo: repo});">{{::repo.name}}</a>
            </td>
            <td>
                {{::repo.description}}
            </td>
            <td>
                <a ng-href="{{::repo.html_url}}" target="_tab_{{::repo.id}}">Source</a>
            </td>
            <td ng-if="canUpload">
                <a href ng-click="showUpload({repo: repo});">Upload to Manager</a>
            </td>
        </tr>
        <tr ng-show="!loading && !filtered.length">
            <td colspan="{{canUpload ? 4 : 3}}">No Data Found</td>
        </tr>
        <tr ng-show="loading">
            <td colspan="{{canUpload ? 4 : 3}}">Loading...</td>
        </tr>
    </table>
</div>
